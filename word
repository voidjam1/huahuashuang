<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>é¢˜åº“ç®¡ç† </title>
    <style>
        :root { --primary: #6c5ce7; --bg: #f8f9fa; --danger: #ff7675; }
        body { font-family: 'PingFang SC', sans-serif; background: var(--bg); padding: 40px; color: #2d3436; }
        .header { text-align: center; margin-bottom: 30px; }
        
        /* åˆ›å»ºä¸»é¢˜åŒºåŸŸ */
        .create-theme { max-width: 800px; margin: 0 auto 30px; display: flex; gap: 10px; }
        input { padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 16px; }
        .flex-1 { flex: 1; }
        
        /* ä¸»é¢˜å±•ç¤ºåŒº */
        .themes-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; max-width: 1200px; margin: 0 auto; }
        .theme-card { background: white; border-radius: 15px; padding: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); border-top: 5px solid var(--primary); }
        .theme-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; border-bottom: 1px dashed #eee; padding-bottom: 10px; }
        .theme-title { font-weight: bold; font-size: 1.2rem; color: var(--primary); }
        
        /* è¯ç‰Œæ ·å¼ */
        .word-tag { display: inline-flex; align-items: center; background: #f1f2f6; padding: 5px 10px; border-radius: 20px; margin: 3px; font-size: 14px; transition: 0.3s; }
        .word-tag:hover { background: #dfe4ea; }
        .remove-word { margin-left: 5px; cursor: pointer; color: #aaa; }
        .remove-word:hover { color: var(--danger); }
        
        .add-word-box { margin-top: 15px; display: flex; gap: 5px; }
        .btn { padding: 8px 15px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; transition: 0.2s; }
        .btn-add { background: var(--primary); color: white; }
        .btn-del { background: none; color: var(--danger); border: 1px solid var(--danger); font-size: 12px; }
    </style>
</head>
<body>

<div class="header">
    <h1>è¯åº“ğŸ‘</h1>
    <p>è¯åº“æŸ¥çœ‹å‡ºå£é•¿è£¤æ­¤åˆ»ä¹˜å®¢æ®‹é…·å­˜æ¬¾åˆºå®¢ğŸ¥·</p>
</div>

<div class="create-theme">
    <input type="text" id="themeName" class="flex-1" placeholder="æ–°ä¸»é¢˜åç§°ï¼ˆå¦‚ï¼šé£Ÿç‰©ã€ç”µå½±ã€åŠ¨æ¼«ï¼‰...">
    <button class="btn btn-add" onclick="addNewTheme()">åˆ›å»ºæ–°ä¸»é¢˜</button>
</div>

<div class="themes-grid" id="themesDisplay">
    </div>

<script>
    // æ•°æ®ç»“æ„ï¼š[{title: 'æ°´æœ', words: ['è‹¹æœ', 'æ¢¨']}, {title: 'åŠ¨ç‰©', words: ['ç‹—']}]
    let db = JSON.parse(localStorage.getItem('drawGuessDB')) || [
        {title: "åŸºç¡€è¯åº“", words: ["è‹¹æœ", "é¦™è•‰", "çŒ«", "é£æœº"]}
    ];

    function saveData() {
        localStorage.setItem('drawGuessDB', JSON.stringify(db));
        render();
    }

    function addNewTheme() {
        const input = document.getElementById('themeName');
        if (input.value.trim()) {
            db.push({ title: input.value.trim(), words: [] });
            input.value = '';
            saveData();
        }
    }

    function removeTheme(index) {
        if(confirm('ç¡®å®šè¦åˆ é™¤æ•´ä¸ªä¸»é¢˜å—ï¼Ÿ')) {
            db.splice(index, 1);
            saveData();
        }
    }

    function addWord(themeIndex) {
        const input = document.getElementById(`input-${themeIndex}`);
        const word = input.value.trim();
        if (word) {
            db[themeIndex].words.push(word);
            input.value = '';
            saveData();
        }
    }

    function removeWord(themeIndex, wordIndex) {
        db[themeIndex].words.splice(wordIndex, 1);
        saveData();
    }

    function render() {
        const container = document.getElementById('themesDisplay');
        container.innerHTML = '';

        db.forEach((theme, tIdx) => {
            const card = document.createElement('div');
            card.className = 'theme-card';
            
            let wordsHtml = theme.words.map((w, wIdx) => `
                <span class="word-tag">
                    ${w} <span class="remove-word" onclick="removeWord(${tIdx}, ${wIdx})">Ã—</span>
                </span>
            `).join('');

            card.innerHTML = `
                <div class="theme-header">
                    <span class="theme-title">${theme.title} (${theme.words.length})</span>
                    <button class="btn btn-del" onclick="removeTheme(${tIdx})">è§£æ•£ä¸»é¢˜</button>
                </div>
                <div class="words-container">${wordsHtml || '<span style="color:#ccc;font-size:12px;">æš‚æ— è¯è¯­</span>'}</div>
                <div class="add-word-box">
                    <input type="text" id="input-${tIdx}" style="flex:1; padding:5px;" placeholder="åŠ æ–°è¯..." onkeypress="if(event.key==='Enter') addWord(${tIdx})">
                    <button class="btn btn-add" style="padding:5px 10px;" onclick="addWord(${tIdx})">+</button>
                </div>
            `;
            container.appendChild(card);
        });
    }

    // åˆå§‹æ¸²æŸ“
    render();
</script>
</body>
</html>
